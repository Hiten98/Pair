<!DOCTYPE html>

<html>
  <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.9.1/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-auth.js"></script>

  <script>
    // Initialize Firebase
    const config = {
      apiKey: "AIzaSyCpow5onc7CzR9ekowLsK_VA_UbK1FnWoM",
      authDomain: "pair-ab7d0.firebaseapp.com",
      databaseURL: "https://pair-ab7d0.firebaseio.com",
      projectId: "pair-ab7d0",
      storageBucket: "pair-ab7d0.appspot.com",
      messagingSenderId: "553932382090"
    };
    var defaultApp = firebase.initializeApp(config);
    var ref = firebase.database().ref();
    var companyRef = ref.child("Company");
    function createCompany(companyName) {
      companyRef.update({
        [companyName]: "novalue"
      });
      var pin = Math.floor(Math.random() * 9000) + 1000;
      companyRef.child(companyName).update({
        "pin": pin,
        "listOfLocations": "novalue",
        "listOfEmployees": "novalue"
      });
    };
    function updateCompany(companyName, locations, employees) {
      companyRef.child(companyName).update({ // change function to be like +=
        "listOfLocations": locations,
        "listOfEmployees": employees
      });
    };
    // Code to Retrive Company locations
    var companyLocationRef = companyRef.child("Carrot").child('listOfLocations');
    companyLocationRef.once("value")
  . then(function(snapshot) {
    snapshot.forEach(function(childSnapshot) {
      var key = childSnapshot.val(); // "ada"
      document.write(key);
    });
  });
    //createCompany("Test Company");
    //createCompany("Carrot");
    updateCompany("Carrot", ["Cali", "L1", "L2"], ["Elon", "Muskrat"]);
    //updateCompany("Test Company1", ["Mountain View", "Redwood"], ["Kunal", "Adam"]);
  </script>

</html>
