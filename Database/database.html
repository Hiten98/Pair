<!DOCTYPE html>

<html>
  
  <!-- Necessary imports for firbase -->
  <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.9.1/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-auth.js"></script>

  <script>
    // Initialize Firebase
    const config = {
      apiKey: "AIzaSyCpow5onc7CzR9ekowLsK_VA_UbK1FnWoM",
      authDomain: "pair-ab7d0.firebaseapp.com",
      databaseURL: "https://pair-ab7d0.firebaseio.com",
      projectId: "pair-ab7d0",
      storageBucket: "pair-ab7d0.appspot.com",
      messagingSenderId: "553932382090"
    };

    //Setup references to database
    var defaultApp = firebase.initializeApp(config);
    var ref = firebase.database().ref();

    //Setup references to Object headers
    var companyRef = ref.child("Company");
    var internRef = ref.child("User/Interns");


    //TODO @Darwin clean up and organize code
    //TODO @Darwin move functions to appropriate place
    //TODO @Darwin make separate javascript file
    function createCompany(companyName) {
      companyRef.update({
        [companyName]: "novalue"
      });
      var pin = Math.floor(Math.random() * 9000) + 1000;
      companyRef.child(companyName).update({
        "pin": pin
      });
    }
    //createCompany("Test Company2");
    //createCompany("Test Company1");


    //Set replaces all links
    function createIntern(name, email, location) {
      internRef.update({
        [name]:"novalue"
      })
      internRef.child(name).update({
        "email":email,
        "location":location
      });
    }
    //createIntern("Andrew", "bass1purduedu", "Hawaii");
    createIntern("Mihir", "tiwar@purdue.d", "NeYrok");


  </script>

</html>